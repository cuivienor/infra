# Restic environment configuration for {{ item.name }} backup policy
# Generated by Ansible - DO NOT EDIT MANUALLY

# Backblaze B2 credentials
export B2_ACCOUNT_ID="{{ b2_account_id }}"
export B2_ACCOUNT_KEY="{{ b2_account_key }}"

# Restic repository configuration
export RESTIC_REPOSITORY="b2:{{ item.b2_bucket }}:/{{ item.name }}"
{% if item.name == 'data' %}
export RESTIC_PASSWORD="{{ restic_password_data }}"
{% else %}
export RESTIC_PASSWORD="{{ restic_password_data }}"
{% endif %}

# Restic cache directory
export RESTIC_CACHE_DIR="{{ restic_cache_dir }}/{{ item.name }}"

# Backup metadata
export BACKUP_POLICY="{{ item.name }}"
export BACKUP_HOSTNAME="{{ ansible_facts['hostname'] }}"
