---
# Main tasks for proxmox_container_updates role

- name: Deploy container update automation
  ansible.builtin.import_tasks: update-script.yml
  when: pve_container_updates_enabled | default(true)
  tags: ['container-updates', 'update-script']

- name: Deploy container cleanup automation
  ansible.builtin.import_tasks: cleanup-script.yml
  when: pve_container_cleanup_enabled | default(true)
  tags: ['container-updates', 'cleanup-script']

- name: Deploy container service restart automation
  ansible.builtin.import_tasks: restart-script.yml
  when: pve_container_restart_enabled | default(true)
  tags: ['container-updates', 'restart-script']

- name: Configure systemd timers
  ansible.builtin.import_tasks: systemd.yml
  tags: ['container-updates', 'systemd']
