# Mealie Environment Configuration
# Managed by Ansible - do not edit manually

# Application
PRODUCTION=true
BASE_URL={{ mealie_base_url }}
API_PORT={{ mealie_port }}
TZ={{ mealie_timezone }}
ALLOW_SIGNUP={{ mealie_allow_signup | lower }}
TOKEN_TIME={{ mealie_token_time }}

# Data paths
DATA_DIR={{ mealie_data_dir }}
NLTK_DATA={{ mealie_home }}/nltk_data

# Database (PostgreSQL)
DB_ENGINE={{ mealie_db_engine }}
POSTGRES_USER={{ mealie_db_user }}
POSTGRES_PASSWORD={{ mealie_db_password }}
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_DB={{ mealie_db_name }}

# OIDC Authentication
OIDC_AUTH_ENABLED={{ mealie_oidc_enabled | lower }}
OIDC_CONFIGURATION_URL={{ mealie_oidc_configuration_url }}
OIDC_CLIENT_ID={{ mealie_oidc_client_id }}
OIDC_CLIENT_SECRET={{ mealie_oidc_client_secret }}
OIDC_AUTO_REDIRECT={{ mealie_oidc_auto_redirect | lower }}
OIDC_PROVIDER_NAME={{ mealie_oidc_provider_name }}
OIDC_REMEMBER_ME={{ mealie_oidc_remember_me | lower }}
OIDC_SIGNUP_ENABLED={{ mealie_oidc_signup_enabled | lower }}
OIDC_ADMIN_GROUP={{ mealie_oidc_admin_group }}
{% if mealie_oidc_user_group is defined and mealie_oidc_user_group %}
OIDC_USER_GROUP={{ mealie_oidc_user_group }}
{% endif %}

# Security
SECRET={{ mealie_secret_key }}

# OpenAI Integration (recipe parsing, image recognition, translation)
{% if mealie_openai_api_key is defined and mealie_openai_api_key %}
OPENAI_API_KEY={{ mealie_openai_api_key }}
OPENAI_MODEL={{ mealie_openai_model }}
OPENAI_ENABLE_IMAGE_SERVICES={{ mealie_openai_enable_image_services | lower }}
{% endif %}
