---
title: "5:36:11 PM - November 8, 2025"
date: 2025-11-08T22:36:11.003Z
timestamp: 1762641371003
---

## Project Notes

## Transcoding LXC Container Setup on Proxmox

Created a Debian 12 LXC container for transcoding Blu-ray rips with Intel Arc GPU support.

### Container Configuration (/etc/pve/lxc/CTID.conf)

Required config additions:

```
# Intel Arc GPU passthrough (card0 and renderD128)
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file

# MergerFS media storage mount
mp0: /mnt/storage/media,mp=/mnt/media

# Features
features: nesting=1

# Disable firewall (was blocking network)
firewall: 0
```

### Identifying Intel GPU on Proxmox Host

Use this to find which card is Intel Arc:
```bash
for card in /sys/class/drm/card*; do
  if [ -e "$card/device/vendor" ]; then
    vendor=$(cat "$card/device/vendor")
    device=$(cat "$card/device/device")
    echo "$(basename $card): Vendor=$vendor Device=$device"
    lspci -nn -d ${vendor#0x}:${device#0x}
  fi
done
```

Intel = 0x8086, NVIDIA = 0x10de

### Network Issue Fix

Fresh Debian containers sometimes have eth0 down by default. Fix:

```bash
# Bring up interface
ip link set eth0 up
dhclient eth0

# Make permanent - edit /etc/network/interfaces:
auto eth0
iface eth0 inet dhcp
```

Also ensure firewall is disabled in container config (firewall: 0).

### Next Steps
- Install intel-media-va-driver packages for Arc GPU support
- Install ffmpeg with QSV support
- Create transcoding command for English/Bulgarian audio+subtitle selection with x265 encoding
